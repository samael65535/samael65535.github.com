<p>Liquid error: No such file or directory - /home/samael/Documents/blog/samael65535.github.com/_posts/_includes 最近用github做我的博客,有些时候会设置错误需要用撤回操作,这时就用到git revert与reset</p>

<h3 id='reset'>reset(版本撤回)</h3>

<h4 id='id1'>格式</h4>

<p><code>git reset [-q] [&lt;commit&gt;] [--] &lt;paths&gt;...</code> <code>git reset (--patch | -p) [&lt;commit&gt;] [--] [&lt;paths&gt;...]</code> <code>git reset (--soft | --mixed | --hard | --merge | --keep) [-q] [&lt;commit&gt;]</code></p>

<h4 id='id2'>用法</h4>

<p><code>git reset --mixed</code> 回退commit,保留源码,默认方式.</p>

<p><code>git reset --soft</code> 回退至某个版本,只回退commit信息</p>

<p><code>git reset --hard</code> 彻底回退至某个版本</p>

<p>1. 回退所有内容到上一个版本 <br />git reset HEAD^ <br />2. 回退a.py这个文件的版本到上一个版本 <br />git reset HEAD^ a.py <br />3. 向前回退到第3个版本 <br />git reset –soft HEAD~3 <br />4. 将本地的状态回退到和远程的一样 <br />git reset –hard origin/master <br />6. 回退到某个版本 <br />git reset 057d <br />7. 回退到上一次提交的状态，按照某一次的commit完全反向的进行一次commit <br />git revert HEAD</p>

<h3 id='revert'>revert(撤消操作)</h3>

<p>撤销某次操作，此次操作之前的commit都会被保留. git reset 是撤销某次提交，但是此次之后的修改都会被退回到暂存区.</p>

<h4 id='id3'>格式</h4>

<p><code>git revert [--edit | --no-edit] [-n] [-m parent-number] [-s] &lt;commit&gt;...</code> <code>git revert --continue</code> <code>git revert --quit</code> <code>git revert --abort</code></p>

<h4 id='id4'>示例</h4>

<ol>
<li>git revert HEAD~3：丢弃最近的三个commit，把状态恢复到最近的第四个commit，并且提交一个新的commit来记录这次改变。</li>

<li>git revert -n master~5..master~2：丢弃从最近的第五个commit（包含）到第二个（不包含）,但是不自动生成commit，这个revert仅仅修改working tree和index。</li>
</ol>

<h3 id='resetrevert'>reset与revert的区别</h3>

<ol>
<li>git revert是用一次新的commit来回滚之前的commit，git reset是直接删除指定的commit。</li>

<li>在回滚这一操作上看，效果差不多。但是在日后继续merge以前的老版本时有区别。因为git revert是用一次逆向的commit“中和”之前的提交，因此日后合并老的branch时，导致这部分改变不会再次出现，但是git reset是之间把某些commit在某个branch上删除，因而和老的branch再次merge时，这些被回滚的commit应该还会被引入。</li>

<li>git reset 是把HEAD向后移动了一下，而git revert是HEAD继续前进，只是新的commit的内容和要revert的内容正好相反，能够抵消要被revert的内容。</li>
</ol>

<h5 id='id5'>参考</h5>

<ol>
<li><a href='http://guibin.iteye.com/blog/1014369'>Git基本概念和用法总结</a></li>

<li>git 参考手册</li>
</ol>